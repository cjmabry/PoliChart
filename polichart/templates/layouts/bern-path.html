<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>{% block title %}{{ page_title|default(_('PoliChart')) }}{% endblock %} - Bernie Sanders' Path to the Nomination</title>
    <meta name="description" content="What does Bernie Sanders have to do to win the Democratic nomination? We did the math.">
    <meta name="author" content="Chris Mabry">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Twitter Card data -->
    <meta name="twitter:card" value="summary">

    <!-- Open Graph data -->
    <meta property="og:title" content="PoliChart" />
    <meta property="og:url" content="http://polichart.com/interactives/bern-path" />
    <meta property="og:image" content="http://polichart.com/{{ url_for('static', filename='img/fb-bern-path.png') }}" />
    <meta property="og:description" content="What does Bernie Sanders have to do to win the Democratic nomination? We did the math." />

    <link rel="Shortcut Icon" href="{{ url_for('static', filename='favicon.png') }}" type="image/x-icon">

    {% block css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/normalize.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.css') }}">
    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">-->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    {% endblock %}

    {% block css_style %}
    {% endblock %}

    {% block js_top %}
    <script src="{{ url_for('static', filename='js/vendor/modernizr-2.6.2.min.js') }}"></script>
    {% endblock %}
</head>
<body class="bern-path">

  <script>
    window.fbAsyncInit = function() {
      FB.init({
        appId      : '1601973760125447',
        xfbml      : true,
        version    : 'v2.5'
      });
    };

    (function(d, s, id){
       var js, fjs = d.getElementsByTagName(s)[0];
       if (d.getElementById(id)) {return;}
       js = d.createElement(s); js.id = id;
       js.src = "//connect.facebook.net/en_US/sdk.js";
       fjs.parentNode.insertBefore(js, fjs);
     }(document, 'script', 'facebook-jssdk'));
  </script>

    <canvas class="canvas"></canvas>

    {% include "macros/_ask_user_to_update_ie.html" %}

    {% block topbar %}
    <div class="container">
      <nav>
        <div class="brand pull-left">
          <div class="logo">a <strong>PoliChart</strong> interactive</div>
        </div>

        <div class="updated">Updated March 28, 2016</div>

        <div class="social-share pull-right">

          <span class="share-text">Share:</span>

          <a href="#" class="fb-icon"></a>

          <a class="twitter-icon" href="https://twitter.com/intent/tweet?text=What%20does%20Bernie%20Sanders%20need%20to%20do%20to%20win%20the%20Democratic%20nomination%3F%20We%20did%20the%20math.%20http%3A%2F%2Fpolichart.com%2Finteractives%2Fbern-path%20via%20%40PoliChart"></a>

          <a class="reddit-icon" href="//www.reddit.com/submit" onclick="window.location = '//www.reddit.com/submit?url=' + encodeURIComponent(window.location); return false"></a>

        </div>
      </nav>
    </div>
    {% endblock %}

    {% block flash_message %}
        <div class="container-fluid">
        {% with messages = get_flashed_messages(with_categories=True) %}
            {% if messages %}
            <div class="container-fluid">
                <div id='flash_message_container'>
                    {% for category, msg in messages %}
                        <div class="alert alert-{{ category }}">
                            <button type="button" class="close" data-dismiss="alert">×</button>
                            {{ msg }}
                        </div>
                    {% endfor %}
                </div>
            </div>
            {% endif %}
        {% endwith %}
        </div>
    {% endblock %}

    {% block container %}

      <div class="container-fluid">
        {% block body %}

          <div class="container">

            <section class="intro text-center">

              <div class="bern-path-logo"><h1>Bern Path</h1></div>

              <div class="intro-copy">
                <h4>What does Bernie Sanders need to do to win the Democratic nomination?</br></br>

                <strong>We did the math.</strong></h4>
              </div>

              <a href="#scoreboard" class="glyphicon glyphicon-chevron-down more"></a>

            </section>

            <section class="scoreboard" id="scoreboard">

              <div class="card">

                <p><strong>The State of the Race</strong></p>

                <p>As of March 28, there have been <strong>2,304</strong> pledged delegates awarded - or <strong>57%</strong> of those available.</p>

                <p><strong>1,757</strong> pledged delegates are up for grabs in the remaining contests.</p>

                <p>Hillary Clinton currently leads Bernie Sanders by <strong>228</strong> pledged delegates.</p>

                <p><strong>2,026</strong> pledged delegates are required to win a majority.</p>

              </div>

              <div class="graph-wrapper">
                <canvas class="score-graph" width="600" height="400"></canvas>
                <div class="target-text"><strong>Target:</strong> 2,026 pledged delegates</div>
                <div class="text-center score-totals">
                  <div class="col-xs-4">Sanders</br><strong>1266</strong></div>
                  <div class="col-xs-4">Clinton</br><strong>1038</strong></div>
                  <div class="col-xs-4">Remaining</br><strong>1757</strong></div>
                </div>
              </div>

            </section>

            <section class="target">

              <div class="map">

                <div class="card vertical-middle">

                  <p><strong>The Goal</strong></p>

                  <p>To finish with a pledged majority, Bernie needs to win <strong>58%</strong> of the remaining pledged delegates after March 15.</p>

                  <p>Bernie's camp argues that superdelegates will switch to whichever candidate holds a pledged majority, as they did in 2008. For this reason, they are not included in these calculations.</p>

                </div>

              </div>

            </section>

          <section class="current">

            <div class="card">

              <p><strong>So How's He Doing?</strong></p>

              <p>As of March 28, Bernie is <strong class="green">8% over</strong> his <strong>58%</strong> target.</p>

            </div>

            <div class="current-graph">

              <div class="row">
                <div class="col-md-12">
                  <div class="progress">

                    <!-- <div class="progress-target">
                      <h4>Target: 58% by June 14</h4>
                    </div> -->

                    <div class="progress-bar goal" role="progressbar" aria-valuenow="58" aria-valuemin="0" aria-valuemax="100" style="width: 58%;">
                    </div>

                    <div class="progress-bar actual" role="progressbar" aria-valuenow="66" aria-valuemin="0" aria-valuemax="100" style="width: 66%;">
                      <div class="progress-actual">
                        <h4>66%</h4>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

            </div>

          </section>

            <section class="path-to-victory">

              <div class="card">

                <p><strong>The Path to Victory</strong></p>

                <p>While primaries are notoriously difficult to predict weeks in advance, we have enough data from previous contests to be able to understand areas where Bernie will likely do well, as well as areas where the senator will likely struggle. The numbers below are not predictions, but Sanders' most realistic shot to the nomination will require him to hit most of these targets.</p>

                <p>Some margins, like those in smaller delegate states like <strong>Guam</strong> and <strong>Wyoming</strong>, are not very important - percentages can swing wildly and only a few delegates will change hands.</p>

                <p>Others, like <strong>New York</strong> and <strong>California</strong>, have massive delegate hauls, and a margin change of just a few points could swing the delegate count wildly. For this reason, these bigger states, including <strong>Washington</strong>, <strong>Pennsylvania</strong>, <strong>New Jersey</strong>, and <strong>Maryland</strong>, are so much more important.</p>

                <p>It's hard to see a path forward for Sanders without New York, for example, and it's virtually impossible for him to secure the nomination if he doesn't win California.</p>

                <p>In the end, the most important metric to watch is if Bernie can secure 58% of the pledged delegates after March 15. If he can, he'll finish with a pledged majority, regardless of how close he gets to these targets.</p>
              </div>

              <div class="table-responsive">

                <!-- Table -->
                <table class="table table-condensed table-striped table-hover table-bordered" id="state-data">
                  <thead>
                    <tr>
                      <th colspan='1'>State</th>
                      <th colspan='1'>Date</th>
                      <th colspan='1'>Pledged Available</th>
                      <th colspan='1'>Pledged Target</th>
                      <th colspan='1'>Margin</th>
                      <th colspan='1'>Lead</th>
                    </tr>
                    <tr>
                      <td><strong>Democrats Abroad</strong></td>
                      <td>3/21/2016</td>
                      <td>13</td>
                      <td>9</td>
                      <td>+40%</td>
                      <td>-315</td>
                    </tr>
                    <tr>
                      <td><strong>Arizona</strong></td>
                      <td>3/22/2016</td>
                      <td>75</td>
                      <td>41</td>
                      <td>+10%</td>
                      <td>-308</td>
                    </tr>
                    <tr>
                      <td><strong>Idaho</strong></td>
                      <td>3/22/2016</td>
                      <td>23</td>
                      <td>16</td>
                      <td>+40%</td>
                      <td>-299</td>
                    </tr>
                    <tr>
                      <td><strong>Utah</strong></td>
                      <td>3/22/2016</td>
                      <td>33</td>
                      <td>23</td>
                      <td>+40%</td>
                      <td>-286</td>
                    </tr><tr>
                    <tr>
                      <td><strong>Alaska</strong></td>
                      <td>3/26/2016</td>
                      <td>16</td>
                      <td>11</td>
                      <td>+40%</td>
                      <td>-280</td>
                    </tr>
                    <tr>
                      <td><strong>Hawaii</strong></td>
                      <td>3/26/2016</td>
                      <td>25</td>
                      <td>16</td>
                      <td>+30%</td>
                      <td>-273</td>
                    </tr>
                    <tr>
                      <td><strong>Washington</strong></td>
                      <td>3/26/2016</td>
                      <td>101</td>
                      <td>71</td>
                      <td>+40%</td>
                      <td>-232</td>
                    </tr>
                    <tr>
                      <td><strong>Wisconsin</strong></td>
                      <td>4/5/2016</td>
                      <td>86</td>
                      <td>49</td>
                      <td>+14%</td>
                      <td>-220</td>
                    </tr>
                    <tr>
                      <td><strong>Wyoming</strong></td>
                      <td>4/9/2016</td>
                      <td>14</td>
                      <td>8</td>
                      <td>+8%</td>
                      <td>-218</td>
                    </tr>
                    <tr>
                      <td><strong>New York</strong></td>
                      <td>4/19/2016</td>
                      <td>247</td>
                      <td>133</td>
                      <td>+8%</td>
                      <td>-199</td>
                    </tr>
                    <tr>
                      <td><strong>Connecticut</strong></td>
                      <td>4/26/2016</td>
                      <td>55</td>
                      <td>31</td>
                      <td>+12%</td>
                      <td>-192</td>
                    </tr>
                    <tr>
                      <td><strong>Delaware</strong></td>
                      <td>4/26/2016</td>
                      <td>21</td>
                      <td>10</td>
                      <td>-8%</td>
                      <td>-193</td>
                    </tr>
                    <tr>
                      <td><strong>Maryland</strong></td>
                      <td>4/26/2016</td>
                      <td>95</td>
                      <td>43</td>
                      <td>-10%</td>
                      <td>-202</td>
                    </tr>
                    <tr>
                      <td><strong>Pennsylvania</strong></td>
                      <td>4/26/2016</td>
                      <td>189</td>
                      <td>110</td>
                      <td>+16%</td>
                      <td>-171</td>
                    </tr>
                    <tr>
                      <td><strong>Rhode Island</strong></td>
                      <td>4/26/2016</td>
                      <td>24</td>
                      <td>14</td>
                      <td>+14%</td>
                      <td>-167</td>
                    </tr>
                    <tr>
                      <td><strong>Indiana</strong></td>
                      <td>5/3/2016</td>
                      <td>83</td>
                      <td>50</td>
                      <td>+20%</td>
                      <td>-150</td>
                    </tr>
                    <tr>
                      <td><strong>Guam</strong></td>
                      <td>5/7/2016</td>
                      <td>7</td>
                      <td>3</td>
                      <td>-28%</td>
                      <td>-151</td>
                    </tr>
                    <tr>
                      <td><strong>West Virginia</strong></td>
                      <td>5/10/2016</td>
                      <td>29</td>
                      <td>1</td>
                      <td>+28%</td>
                      <td>-142</td>
                    </tr>
                    <tr>
                      <td><strong>Kentucky</strong></td>
                      <td>5/17/2016</td>
                      <td>55</td>
                      <td>33</td>
                      <td>+20%</td>
                      <td>-131</td>
                    </tr>
                    <tr>
                      <td><strong>Oregon</strong></td>
                      <td>5/17/2016</td>
                      <td>61</td>
                      <td>41</td>
                      <td>+34%</td>
                      <td>-110</td>
                    </tr>
                    <tr>
                      <td><strong>Virgin Islands</strong></td>
                      <td>6/4/2016</td>
                      <td>7</td>
                      <td>3</td>
                      <td>-28%</td>
                      <td>-111</td>
                    </tr>
                    <tr>
                      <td><strong>Puerto Rico</strong></td>
                      <td>6/5/2016</td>
                      <td>60</td>
                      <td>29</td>
                      <td>-2%</td>
                      <td>-113</td>
                    </tr>
                    <tr>
                      <td><strong>California</strong></td>
                      <td>6/7/2016</td>
                      <td>475</td>
                      <td>275</td>
                      <td>+16%</td>
                      <td>-38</td>
                    </tr>
                    <tr>
                      <td><strong>Montana</strong></td>
                      <td>6/7/2016</td>
                      <td>21</td>
                      <td>14</td>
                      <td>+30%</td>
                      <td>-31</td>
                    </tr>
                    <tr>
                      <td><strong>New Jersey</strong></td>
                      <td>6/7/2016</td>
                      <td>126</td>
                      <td>71</td>
                      <td>+12%</td>
                      <td>-15</td>
                    </tr>
                    <tr>
                      <td><strong>New Mexico</strong></td>
                      <td>6/7/2016</td>
                      <td>34</td>
                      <td>20</td>
                      <td>+16%</td>
                      <td>-9</td>
                    </tr>
                    <tr>
                      <td><strong>North Dakota</strong></td>
                      <td>6/7/2016</td>
                      <td>18</td>
                      <td>12</td>
                      <td>+28%</td>
                      <td>-3</td>
                    </tr>
                    <tr>
                      <td><strong>South Dakota</strong></td>
                      <td>6/7/2016</td>
                      <td>20</td>
                      <td>14</td>
                      <td>+36%</td>
                      <td>+5</td>
                    </tr>
                    <tr>
                      <td><strong>Washington DC</strong></td>
                      <td>6/14/2016</td>
                      <td>30</td>
                      <td>13</td>
                      <td>-16%</td>
                      <td>+1</td>
                    </tr>
                  </thead>
                  <tbody>
                  </tbody>
                </table>

            </section>

          </div>

          <div class="row">

            <section class="conclusion">

              <div class="card">

                <p><strong>A Long Road Ahead</strong></p>

                <p>While Bernie Sanders faces an uphill battle to win the Democratic nomination, the race now moves into the most favorable stretch for the Vermont senator. Hillary Clinton’s lead will most likely shrink until June 14, but the real question is by how much.</p>

                <p>Sanders needs to perform well in the remaining large states, and needs to win big in the places that are demographically favorable to him. He also needs to limit his loss margins in states that he's likely to do poorly in.</p>

                <p>Should Bernie rougly meet the targets above, by no means an easy task, he will be on track to win a majority of pledged delegates, and the Democratic contest could take until June 14 to be decided.</p>

              </div>

            </section>

          </div>

        {% endblock %}
      </div>

    {% endblock %}

    <div class="container-fluid">

      <div class="row">

        <footer class="text-center">

          <p>Share this story:</p>

          <div class="social-share">

            <a href="#" class="fb-icon"></a>
            <a class="twitter-icon" href="https://twitter.com/intent/tweet?text=What%20does%20Bernie%20Sanders%20need%20to%20do%20to%20win%20the%20Democratic%20nomination%3F%20We%20did%20the%20math.%20http%3A%2F%2Fpolichart.com%2Finteractives%2Fbern-path%20via%20%40PoliChart"></a>
            <a class="reddit-icon" href="//www.reddit.com/submit" onclick="window.location = '//www.reddit.com/submit?url=' + encodeURIComponent(window.location); return false"></a>

          </div>

          <div class="footer-copy">

            <p>This was a <strong>PoliChart</strong> interactive.</p>

            <p><strong>PoliChart</strong> is a new way to look at politics. If you enjoyed this interactive, sign up to be notified when we launch.</p>

            <p><small>(We promise not to spam)</small></p>

          </div>

          <!-- Begin MailChimp Signup Form -->
          <div id="mc_embed_signup">
          <form action="//polichart.us13.list-manage.com/subscribe/post?u=07c96f45b0114ef3220bc7dd5&amp;id=d9a6acb080" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
              <div id="mc_embed_signup_scroll">

          <div class="mc-field-group">
          	<!-- <label for="mce-EMAIL">Email Address </label> -->
          	<input type="email" value="" placeholder="you@example.com"name="EMAIL" class="required email" id="mce-EMAIL">
          </div>
             <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
              <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_07c96f45b0114ef3220bc7dd5_d9a6acb080" tabindex="-1" value=""></div>
              <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
              </div>
              <div id="mce-responses" class="clear">
                <div class="response" id="mce-error-response" style="display:none"></div>
                <div class="response" id="mce-success-response" style="display:none"></div>
              </div>
          </form>
          </div>
          <script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script><script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
          <!--End mc_embed_signup-->

          <p>Feedback? <strong><a href="mailto:me@chrismabrydesign.com?subject=PoliChart%20Feedback">Let us know.</a></strong></p>

        </footer>

      </div>

    </div>

    {% block js_btm %}
    <!--
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    -->
    {% set jquery_path = url_for('static', filename='js/vendor/jquery-1.10.2.min.js') %}
    <script>window.jQuery || document.write('<script src="{{ jquery_path }}"><\/script>')</script>
    <script src="{{ url_for('static', filename='js/plugins.js') }}"></script>
    <!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>-->
    <script src="{{ url_for('static', filename='js/vendor/bootstrap.js') }}"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script src="{{ url_for('static', filename='js/tablesort.js') }}"></script>
    <script src="{{ url_for('static', filename='js/tablesort.date.js') }}"></script>
    <script src="{{ url_for('static', filename='js/tablesort.number.js') }}"></script>
    <script src="{{ url_for('static', filename='js/jquery.smooth-scroll.js') }}"></script>
    <script type="text/javascript" async src="https://platform.twitter.com/widgets.js"></script>
    <script src="{{ url_for('static', filename='js/Chart.min.js') }}"></script>

    <!-- Bar Chart -->
    <script>

      var ctx = document.getElementsByClassName("score-graph")[0].getContext("2d");
      var data = {
          labels: ["", "", ""],
          datasets: [
              {
                  fillColor: "#317bbf",
                  strokeColor: "#fff",
                  barShowStroke : true,
                  highlightFill: "#fff",
                  data: [931, 1231, 1899]
              }
          ]
      };

      var options =
        {
          scaleFontSize: 18,
          scaleFontColor: "#317bbf",
          showScale: true,
          scaleShowHorizontalLines: false,
          scaleShowVerticalLines: false,
          scaleShowLabels : false,
          responsive: true,
          scaleLineColor: "rgba(0,0,0,0)",
          showTooltips: true
        }
      var myNewChart = new Chart(ctx).Bar(data, options);

      console.log(myNewChart);

    </script>

    <script>

    $('.more').smoothScroll();

    var canvas = document.getElementsByClassName("canvas")[1];
    var body = document.body;
    var html = document.body;
    var height = Math.max( body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);
    var ctx = canvas.getContext("2d");
    // canvas.width = window.innerWidth;
    canvas.width = body.width;
    canvas.height = height;
    handleResize();

    window.addEventListener("resize", handleResize);

    function handleResize() {
      var body = document.body;
      var w = window.innerWidth;
      var h = Math.max( body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);
      canvas.width = w;
      canvas.height = h;

      drawPath();
    };

    function drawPath() {

      var points = [
        [
          Math.floor(window.innerWidth - ($('.bern-path-logo h1').position().left))+0.5,
          Math.floor($('.bern-path-logo h1').position().top + $('.bern-path-logo h1').height())+0.5
        ],
        [
          Math.floor(window.innerWidth - ($('.bern-path-logo h1').position().left)+100)+0.5,
          Math.floor($('.bern-path-logo h1').position().top + $('.bern-path-logo h1').height())+0.5
        ],
        [
          Math.floor(window.innerWidth - ($('.bern-path-logo h1').position().left)+100)+0.5,
          Math.floor($('.more').position().top + $('.more').height()/2)+0.5
        ],
        [
          Math.floor(window.innerWidth/2)+0.5,
          Math.floor($('.more').position().top + $('.more').height()/2)+0.5
        ],
        [
          Math.floor(window.innerWidth/2)+0.5,
          Math.floor($('.scoreboard .card').position().top)+0.5
        ],
        [
          Math.floor(window.innerWidth/2 + 290)+0.5,
          Math.floor($('.scoreboard .card').position().top)+0.5
        ],
        [
          Math.floor(window.innerWidth/2 + 290)+0.5,
          Math.floor($('.graph-wrapper').position().top)+0.5
        ],
        [
          Math.floor(window.innerWidth/2 - 300)+0.5,
          Math.floor($('.graph-wrapper').position().top)+0.5
        ],
        [
          Math.floor(window.innerWidth/2 - 300)+0.5,
          Math.floor($('.graph-wrapper').position().top + $('.graph-wrapper').height() - 30)+0.5
        ],
        [
          Math.floor(window.innerWidth/2 + 300)+0.5,
          Math.floor($('.graph-wrapper').position().top + $('.graph-wrapper').height() - 30)+0.5
        ],
        [
          Math.floor(window.innerWidth/2 + 300)+0.5,
          Math.floor($('.target').position().top + 100)+0.5
        ],
        [
          Math.floor(window.innerWidth/2)+0.5,
          Math.floor($('.target').position().top + 100)+0.5
        ],
        [
          Math.floor(window.innerWidth/2)+0.5,
          Math.floor($('.conclusion').position().top + 100)+0.5
        ]
      ]

      console.log(points);

      ctx.lineWidth = 1;
      ctx.setLineDash([4]);

      ctx.beginPath();
      ctx.strokeStyle="#317bbf";
      // ctx.moveTo((points[0][0]),(points[0][1]));

      for (var coords in points) {
        ctx.lineTo(points[coords][0],points[coords][1])
      }

      ctx.stroke();

    };

    $('.fb-icon').on('click', function () {
      FB.ui({
        method: 'share',
        href: 'http://polichart.com/interactives/bern-path',
      }, function(response){});
    });

    </script>

    {% endblock %}

    {% block ga %}
      {% include "macros/_google_analytics.html" %}
    {% endblock %}
</body>
</html>
